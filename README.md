# A/B-тестирование новой механики оплаты

## Цель проекта
Проанализировать результаты A/B-теста новой механики оплаты услуг на сайте и определить, целесообразно ли внедрять её для всех пользователей на основе данных о поведении и оплатах.

## Задачи проекта
- Подготовить и объединить данные из нескольких источников.
- Рассчитать ключевые продуктовые и финансовые метрики для контрольной и экспериментальной групп.
- Проверить наличие различий между группами.
- Оценить статистическую значимость выявленных различий.
- Сформулировать выводы и рекомендации по дальнейшему использованию новой механики оплаты.

## Методология и инструменты
Проект выполнен на языке **Python** с использованием следующих библиотек:
- **pandas**, **numpy** — обработка и анализ данных;
- **scipy.stats** — статистические проверки (Shapiro–Wilk, Levene, z-test);
- **statsmodels** — проведение z-test для конверсии;
- **matplotlib** — визуализация данных;

### Используемые метрики
В ходе анализа были рассмотрены следующие метрики:
- **Conversion Rate (CR)** — доля пользователей, совершивших оплату;
- **ARPU (Average Revenue Per User)** — средняя выручка на пользователя;
- **AOV (Average Order Value)** — средний чек.

## Источники данных
В анализе использовались четыре CSV-файла:
- `groups.csv` — принадлежность пользователей к контрольной (A) и экспериментальной (B) группам;
- `groups_add.csv` — дополнительный список пользователей, полученный после начала эксперимента;
- `active_studs.csv` — пользователи, активные в период проведения эксперимента;
- `checks.csv` — информация об оплатах пользователей.

## Ход анализа
1. Объединение и очистка данных, учёт дополнительных пользователей.
2. Расчёт ключевых метрик для каждой группы.
3. Проверка распределений:
   - тест Шапиро–Уилка показал отсутствие нормальности распределений;
   - тест Левена использован для проверки однородности дисперсий.
4. Проверка гипотез:
   - для **Conversion Rate** применён z-test;
   - для **ARPU** и **AOV** использован bootstrap-подход.
5. Визуальный анализ распределений и выбросов.

## Визуализация данных
Для наглядного представления результатов использовались:
- **boxplot** — сравнение распределений выручки на пользователя между группами;
- **histogram** — анализ распределения выручки.

## Результаты и выводы
- **Конверсия (CR)** между контрольной и экспериментальной группами статистически значимо не различается.
- **ARPU** в экспериментальной группе выше, однако прирост является незначительным.
- **AOV** также не демонстрирует устойчивого и статистически значимого роста.
- В совокупности результаты не дают достаточных оснований для немедленного масштабирования новой механики оплаты на всех пользователей.

## Рекомендации
На текущем этапе **не рекомендуется запускать новую механику оплаты на всех пользователей**. Для принятия более обоснованного решения целесообразно:
- провести дополнительное **сегментное A/B-тестирование**;
- проанализировать эффект на отдельных группах пользователей;
- рассмотреть более длительный период эксперимента или альтернативные метрики.

## Ограничения и сложности
- Ненормальность распределений финансовых метрик потребовала использования bootstrap-методов.
- Эффект новой механики оказался слабым, что затрудняет интерпретацию результатов.
- Анализ ограничен временными рамками эксперимента и доступными данными.

## Формат проекта
Проект оформлен в виде одного Jupyter Notebook (`.ipynb`) с подробными комментариями, пошаговым анализом и итоговыми выводами.
